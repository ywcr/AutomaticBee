# 精灵蜂任务管理平台 - Electron版

基于原有 Web 版本的精灵蜂任务管理平台，改造为 Electron 桌面应用。

## 🚀 特性

- ✅ **完全兼容原有功能**：保持所有现有的任务管理功能
- ✅ **阿里云验证码支持**：完整支持原有的滑块验证码
- ✅ **API 代理**：通过内置代理服务器访问生产环境 API
- ✅ **桌面应用体验**：原生窗口控制、系统通知、本地存储
- ✅ **自动化增强**：为未来的自动化任务创建功能预留扩展空间

## 📋 系统要求

- Node.js 16.0 或更高版本
- 网络连接（用于访问后端 API 和阿里云服务）

## 🛠️ 安装和运行

### 1. 安装依赖

```bash
cd electron-zxyy
npm install
```

### 2. 开发模式运行

```bash
npm run dev
```

这将同时启动：
- 代理服务器（端口 3000）
- Electron 应用

### 3. 生产模式运行

```bash
npm start
```

### 4. 构建应用

```bash
# 构建所有平台
npm run build

# 构建 Windows 版本
npm run build-win

# 构建 macOS 版本
npm run build-mac

# 构建 Linux 版本
npm run build-linux
```

## 🏗️ 项目结构

```
electron-zxyy/
├── src/
│   ├── main/                 # 主进程代码
│   │   ├── main.js          # 主进程入口
│   │   ├── proxy-server.js  # 代理服务器
│   │   └── preload.js       # 预加载脚本
│   └── renderer/            # 渲染进程代码
│       ├── index.html       # 启动页面
│       ├── login.html       # 登录页面
│       ├── main.html        # 主页面
│       └── lgb/             # 原有前端资源
├── assets/                  # 应用资源
├── package.json            # 项目配置
└── README.md              # 说明文档
```

## 🔧 技术架构

### 代理服务器
- 使用 Express + http-proxy-middleware
- 代理所有 `/lgb/*` 请求到生产服务器
- 处理 CORS 和认证头
- 支持阿里云 CDN 资源代理

### 主进程
- 创建和管理应用窗口
- 启动内置代理服务器
- 处理系统集成功能

### 渲染进程
- 加载原有前端代码
- 通过代理访问后端 API
- 保持原有业务逻辑

## 🔐 登录和认证

- 完整支持原有的手机号+密码登录
- 阿里云滑块验证码正常工作
- 短信验证码功能保持不变
- Token 认证机制保持兼容

## 🌐 网络配置

应用需要访问以下服务：
- `https://zxyy.ltd` - 后端 API 服务器
- `https://g.alicdn.com` - 阿里云验证码服务
- `https://jlf-1024.oss-cn-beijing.aliyuncs.com` - OSS 存储服务

## 🚧 开发计划

### 已完成
- [x] 基础 Electron 框架搭建
- [x] API 代理服务器实现
- [x] 登录页面迁移和适配
- [x] 阿里云验证码集成
- [x] 主页面框架搭建

### 进行中
- [ ] 完整的任务管理功能迁移
- [ ] 系统通知集成
- [ ] 本地数据缓存

### 计划中
- [ ] 自动化任务创建功能
- [ ] 批量操作工具
- [ ] 定时任务调度
- [ ] 离线模式支持
- [ ] 自动更新机制

## 🐛 故障排除

### 常见问题

1. **代理服务器启动失败**
   - 检查端口 3000 是否被占用
   - 确保网络连接正常

2. **阿里云验证码加载失败**
   - 检查网络连接
   - 确认防火墙设置

3. **登录失败**
   - 检查后端服务器连接
   - 确认用户名密码正确

### 日志查看

开发模式下，可以在终端查看详细日志：
- 代理服务器日志
- Electron 主进程日志
- 渲染进程控制台日志

## 📞 支持

如有问题，请联系开发团队或查看原有系统的帮助文档。

## 📄 许可证

MIT License
